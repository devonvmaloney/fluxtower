<html>

<head>
    <title> Map of Global Flux Tower Network  </title>

    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.4.0/dist/leaflet.css"
        integrity="sha512-puBpdR0798OZvTTbP4A8Ix/l+A4dHDD0DGqYW6RQ+9jxkRFclaxxQb/SJAWZfWAkuyeQUytO7+7N4QKrDh+drA=="
        crossorigin="" />

    <script src="https://unpkg.com/leaflet@1.4.0/dist/leaflet.js"
        integrity="sha512-QVftwZFqvtRNi0ZyCtsznlKSWOStnDORoefr1enyq5mVL4tmKB3S/EnC3rRJcxCPavG10IcrVGSmPh6Qw5lwrg=="
        crossorigin=""></script>

    <script type="text/javascript" src="leaflet.js"></script>
	<link rel="stylesheet" type="text/css" href="leaflet-openweathermap.css" />
	<script type="text/javascript" src="leaflet-openweathermap.js"></script>

    <script
        src="/https://github.com/devonvmaloney/fluxtower/blob/master/flux_sites.geojson"> </script>

</head>

<body>
    <b>Flux towers </b>
    <br />
    Markers repersent the location of the flux tower sites. 

    <div id="mapid"></div>

    <style>
        #mapid {
            width: 900px;
            height: 600px;
        }
    </style>
    <script>

        var map = L.map('mapid').setView([35.905, -79.05], 3);

        //L.tileLayer('http://maps.openweathermap.org/maps/2.0/weather/TA2/{z}/{x}/{y}?date=1527811200&opacity=0.9&fill_bound=true&appid=b3cb58b02b9e19a95041c7b4f741e885', {
            //attribution: '&copy; <a href="https://openweathermap.org/">OpenWeatherMap</a> contributors'
        //}).addTo(map);

        L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
            attribution: '&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'
        }).addTo(map);

        var clouds = L.OWM.clouds({showLegend: false, opacity: 0.5, appId: 'b3cb58b02b9e19a95041c7b4f741e885'});
        var city = L.OWM.current({intervall: 15, lang: 'de',
			markerFunction: myOwmMarker, popupFunction: myOwmPopup});

        var map = L.map('map', { center: new L.LatLng(51.5, 10), zoom: 10, layers: [osm] });
        var baseMaps = { "OSM Standard": osm };
        var overlayMaps = { "Clouds": clouds, "Cities": city };
        var layerControl = L.control.layers(baseMaps, overlayMaps).addTo(map);
    

    </script>

    <script>

        var cherryIcon = L.icon({
            iconUrl: 'https://github.com/devonvmaloney/Leaflet_CherryTrees/blob/master/hiclipart.com.png',
            iconSize: [50, 50],
            popupAnchor: [0, 0]
        })

        L.geoJSON(fluxtowers,
            {
                pointToLayer:
                    function (feature, latlng) {
                        return L.marker(latlng,
                            { icon: cherryIcon })
                            ;
                    }
            }).addTo(map)


    </script>

</body>

</html>